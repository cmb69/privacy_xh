<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Minicounter_XH – User Manual</title>
  <style type="text/css">
    body {
        font-family: Georgia, serif;
        line-height: 1.5;
        margin-left: auto;
        margin-right: auto;
        padding-left: 0.5em;
        padding-right: 0.5em;
        background: #ffffe1;
        max-width: 40em;
    }
    p {
        text-align: justify;
    }
    pre {
        color: black;
        background: #ffe;
        overflow: auto;
        padding: 0.2em 0.5em;
        border: 1px solid silver;
    }
  </style>
</head>
<body>
<h1 id="privacy_xh">Privacy_XH</h1>
<p>Privacy_XH helps to make a website conforming to the <a href="http://www.cookielaw.org/">EU cookie law</a> and other regulations regarding the privacy of visitors. It does so by emitting a form on every page with relevant information giving the visitor the possibility to explicitely opt in. After the visitor opted in, a respective cookie is set, and the message won’t be shown again. In addition Privacy_XH facilitates to guard the execution of other code that sets cookies which might violate the privacy of users.</p>
<ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#license">License</a></li>
<li><a href="#credits">Credits</a></li>
</ul>
<h2 id="requirements">Requirements</h2>
<p>Privacy_XH is a plugin for CMSimple_XH ≥ 1.6.3. It requires PHP ≥ 5.4.0.</p>
<h2 id="installation">Installation</h2>
<p>The installation is done as with many other CMSimple_XH plugins. See the <a href="https://wiki.cmsimple-xh.org/doku.php/installation#plugins">CMSimple_XH wiki</a> for further details.</p>
<ol type="1">
<li><strong>Backup the data on your server.</strong></li>
<li>Unzip the distribution on your computer.</li>
<li>Upload the whole directory privacy/ to your server into CMSimple_XH’s plugins directory.</li>
<li>Set write permissions to the subdirectories config/, css/ and languages/.</li>
<li><strong>Switch to “Privacy” in the back-end to check if all requirements are fulfilled.</strong></li>
</ol>
<h2 id="settings">Settings</h2>
<p>The plugin’s configuration is done as with many other CMSimple_XH plugins in the website’s back-end. Select “Privacy” from “Plugins”.</p>
<p>You can change the default settings of Privacy_XH under “Config”. Hints for the options will be displayed when hovering over the help icons with your mouse.</p>
<p>Localization is done under “Language”. You can translate the character strings to your own language, or customize them according to your needs.</p>
<p>The look of the Privacy_XH can be customized under “Stylesheet”.</p>
<h2 id="usage">Usage</h2>
<p>To activate the privacy form, add the following to your template in a prominent place:</p>
<pre><code>&lt;?=privacy()?&gt;</code></pre>
<p>You should adapt the message in “Language” according to your needs. To make extensive information available you should prepare a hidden CMSimple page with the privacy notice, and link to it from the message.</p>
<p>To avoid cookies being sent from other plugins or extensions before the user has opted in, you have to make some changes to the way these extensions are integrated. If the code is in the template, you can guard it from being executed before the visitor has opted in by encapsulating it the following way:</p>
<pre><code>&lt;?php if (isset($_COOKIE[&#39;privacy_agreed&#39;])):?&gt;
&lt;!-- code that requires opt in --&gt;
&lt;?php endif?&gt;</code></pre>
<p>If the code that has to be guarded is called from the content, instead of e.g. calling:</p>
<pre><code>{{{func(1, 2, 3, 4, 5)}}}</code></pre>
<p>just call:</p>
<pre><code>{{{privacy_guard(&#39;func&#39;, 1, 2, 3, 4, 5)}}}</code></pre>
<p>Note, that privacy_guard() accepts any number of arguments in addition to the function name</p>
<p>Which plugins and extensions have to be guarded depends on the jurisdiction of your country (or probably the country where the website is hosted; I am not a lawyer), and of course on which information these extensions are storing in the cookies. This should be documented in the plugin’s or extension’s manual; otherwise ask the vendor.</p>
<p><strong>Please note that the privacy form is never shown when you’re logged in as adminstrator.</strong></p>
<h2 id="license">License</h2>
<p>Privacy_XH is licensed under <a href="http://www.gnu.org/licenses/gpl.html">GPLv3</a>.</p>
<p>Copyright © Christoph M. Becker</p>
<p>Czech translation © Josef Němec<br />
Dutch translation © Rob Zeijen</p>
<h2 id="credits">Credits</h2>
<p>Privacy_XH is inspired by <em>oldnema</em>, who pointed me to the EU cookie law, and the usefulness of such a plugin. Thank you!</p>
<p>The plugin icon is designed by <a href="http://www.famfamfam.com/">Alexander Moore</a>. Many thanks for publishing this icon under GPL.</p>
<p>And last but not least many thanks to <a href="http://www.harteg.dk">Peter Harteg</a>, the “father” of CMSimple, and all developers of <a href="http://www.cmsimple-xh.com">CMSimple_XH</a> without whom this amazing CMS wouldn’t exist.</p>
</body>
</html>
